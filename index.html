<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Milioner</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Layar Awal (Tidak ada perubahan) -->
    <div id="start-screen" class="screen active">
        <div class="start-box">
            <img src="logo.png" 
                 alt="Logo Kuis" 
                 class="logo-spinning" 
                 onerror="this.onerror=null; this.src='https://placehold.co/150x150/0c0c2c/ffc107?text=LOGO';">
            
            <div id="custom-game-info" class="hidden">
                <h3>Mode Kuis Kustom</h3>
                <p id="custom-game-status">Memuat soal...</p>
            </div>
            <div id="player-controls">
                <h2>Mulai Bermain</h2>
                <input type="text" id="player-name-input" placeholder="Masukkan nama Anda">
                <div id="fase-select-container">
                    <select id="fase-select">
                        <option value="A">Fase A (Default)</option>
                        <option value="B">Fase B (Default)</option>
                        <option value="C">Fase C (Default)</option>
                        <option value="D">Fase D (Default)</option>
                        <option value="E">Fase E (Default)</option>
                        <option value="F">Fase F (Default)</option>
                    </select>
                </div>
                <button id="start-game-btn">Mulai Bermain</button>
            </div>
            <hr id="host-separator">
            <div id="host-controls">
                <button id="toggle-host-btn">Panel Host (Buat Kuis)</button>
                <div id="host-panel" class="hidden">
                    <p>Tempelkan link Google Sheet (yang sudah dipublikasi sebagai CSV):</p>
                    <input type="text" id="google-sheet-input" placeholder="https.../pub?output=csv">
                    <button id="generate-link-btn">Buat Link Game</button>
                    <a href="#" id="how-to-csv-link" class="how-to-link">Bagaimana caranya?</a>
                </div>
            </div>
            <hr class="host-hr">
            <div id="view-scores-controls">
                <h3>Lihat Hasil Kuis Kustom</h3>
                <p>Masukkan ID Kuis Anda (bagian setelah #):</p>
                <input type="text" id="view-quiz-id-input" placeholder="aBcDeFg123">
                <button id="view-scores-btn">Tampilkan Skor</button>
            </div>
            
            <!-- Berbagai Modal -->
            <div id="how-to-modal" class="modal-overlay">...</div>
            <div id="share-link-modal" class="modal-overlay">...</div>
            <div id="score-view-modal" class="modal-overlay">...</div>
        </div>
    </div>

    <!-- Layar Permainan -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="quiz-main">
                <div class="top-bar">
                    <div id="timer">60</div>
                    <div class="lifelines">
                        <button class="lifeline" id="lifeline-5050">Â½</button>
                        <button class="lifeline" id="lifeline-poll">ðŸ“Š</button>
                        <button class="lifeline" id="lifeline-phone">ðŸ“ž</button>
                    </div>
                </div>
                <div class="qa-container">
                    <div id="question-container">
                        <p id="question-text">Ibukota Indonesia adalah?</p>
                    </div>
                    <!-- ***** PERUBAHAN v12 ***** -->
                    <!-- Opsi sekarang akan dibuat oleh JS di sini -->
                    <div id="options-container">
                        <!-- KOSONG -->
                    </div>
                </div>
            </div>
            <div class="prize-ladder-container">
                <ul id="prize-ladder"></ul>
            </div>
        </div>

        <!-- Modal Konfirmasi Jawaban -->
        <div id="confirm-modal" class="modal-overlay">...</div>

        <!-- ***** PERUBAHAN v12: Modal Telepon Diperbarui ***** -->
        <div id="phone-modal" class="modal-overlay">
            <div class="modal-content-small">
                <h3 id="phone-title">Bantuan Telepon</h3>
                
                <!-- Layar 1: Simulasi Dialing -->
                <div id="phone-dialing-screen">
                    <p>Menghubungi...</p>
                    <div class="phone-icon">ðŸ“ž</div>
                    <p>Waktu tersisa: <span id="dialing-timer">10</span> detik</p>
                </div>

                <!-- Layar 2: Pilihan Kontak (Awalnya tersembunyi) -->
                <div id="phone-contact-grid" class="hidden">
                    <div class="phone-contact" data-contact="friend1"><img src="friend1.png" alt="Teman 1"><span>Teman 1</span></div>
                    <div class="phone-contact" data-contact="friend2"><img src="friend2.png" alt="Teman 2"><span>Teman 2</span></div>
                    <div class="phone-contact" data-contact="friend3"><img src="friend3.png" alt="Teman 3"><span>Teman 3</span></div>
                    <div class="phone-contact" data-contact="expert"><img src="expert.png" alt="Ahli"><span>Ahli</span></div>
                </div>

                <!-- Layar 3: Jawaban (Awalnya tersembunyi) -->
                <div id="phone-response-area" class="hidden">
                    <p id="phone-response-text">...</p>
                    <button id="close-phone-modal-btn">Tutup</button>
                </div>
            </div>
        </div>

        <!-- ***** PERUBAHAN v12: Modal Statistik BARU ***** -->
        <div id="poll-modal" class="modal-overlay">
            <div class="modal-content-small">
                <h3>Hasil Polling Penonton</h3>
                <div id="poll-chart-container">
                    <!-- Diagram batang akan dibuat oleh JS di sini -->
                </div>
                <button id="close-poll-modal-btn">Tutup</button>
            </div>
        </div>

    </div>

    <!-- Elemen Audio -->
    <audio id="opening-audio" src="opening.mp3"></audio>
    <audio id="bg-audio" src="musik.mp3" loop></audio>
    <audio id="correct-audio" src="benar.mp3"></audio>
    <audio id="wrong-audio" src="salah.mp3"></audio>

    <!-- Library Eksternal -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.2/package/dist/xlsx.full.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
