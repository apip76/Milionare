/* Import Font */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

/* Reset & Basic Styling */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
body {
    font-family: 'Roboto', sans-serif;
    background-color: #0c0c2c;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}
.screen {
    display: none;
    width: 100%;
    height: 100%;
}
.screen.active {
    display: block;
}

/* --- Layar Awal (Start Screen) --- */
#start-screen { display: flex; justify-content: center; align-items: center; text-align: center; overflow-y: auto; padding: 20px; }
.start-box { background: rgba(0, 0, 0, 0.3); padding: 30px; border-radius: 15px; border: 2px solid #4a4a8a; width: 90%; max-width: 600px; }
.logo-spinning { width: 150px; height: 150px; animation: spin 8s linear infinite; margin-bottom: 20px; }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
#start-screen h1, #start-screen h2, #start-screen h3 { margin-bottom: 15px; color: #ffc107; }
#player-name-input, #fase-select { display: block; width: 100%; padding: 15px; margin-bottom: 15px; border-radius: 10px; border: 1px solid #ccc; font-size: 1.1rem; color: #333; }
#start-game-btn { width: 100%; padding: 15px; font-size: 1.2rem; font-weight: bold; color: white; background: linear-gradient(to bottom, #4CAF50, #45a049); border: none; border-radius: 10px; cursor: pointer; transition: transform 0.2s, background 0.2s; }
#start-game-btn:hover { transform: scale(1.02); }
#start-game-btn:disabled { background: #777; cursor: not-allowed; }
.hidden { display: none !important; }
#host-separator, .host-hr { width: 100%; border: 1px solid #4a4a8a; margin: 25px 0; }
#host-controls, #view-scores-controls { width: 100%; }
#toggle-host-btn { background: #f57c00; color: white; padding: 10px 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; font-size: 1rem; }
#host-panel { margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.2); border-radius: 8px; text-align: left; }
#host-panel p { margin-bottom: 5px; }
#google-sheet-input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; color: #333; }
#generate-link-btn { width: 100%; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; }
#generate-link-btn:disabled { background: #777; }
.how-to-link { font-size: 0.9rem; color: #ffc107; cursor: pointer; display: block; margin-top: 10px; text-align: center; }
#custom-game-info { background: #ffc107; color: #0c0c2c; padding: 10px; border-radius: 8px; margin-bottom: 15px; text-align: center; }
#custom-game-info h3 { margin: 0; color: #0c0c2c; }
#custom-game-status { font-weight: bold; }
#view-scores-controls { text-align: left; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; }
#view-scores-controls h3 { text-align: center; }
#view-scores-controls p { margin-bottom: 5px; }
#view-quiz-id-input { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; color: #333; font-size: 1rem; }
#view-scores-btn { width: 100%; padding: 10px; background: #2196F3; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; }
#view-scores-btn:disabled { background: #777; }

/* --- Layar Permainan (Gaya Desktop v7) --- */
.game-container { display: flex; width: 100%; height: 100vh; padding: 20px; gap: 20px; }
.quiz-main { flex-grow: 1; display: flex; flex-direction: column; }
.prize-ladder-container { width: 300px; flex-shrink: 0; background: rgba(0, 0, 0, 0.2); border-radius: 10px; border: 2px solid #4a4a8a; padding: 15px; }
.top-bar { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 20px; }
#timer { font-size: 2.5rem; font-weight: bold; background: rgba(0, 0, 0, 0.3); border: 2px solid #4a4a8a; width: 80px; height: 80px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: #ffc107; }
.lifelines { display: flex; gap: 15px; }
.lifeline { width: 60px; height: 60px; border-radius: 50%; background: #1e1e4a; border: 2px solid #4a4a8a; color: white; font-size: 1.5rem; cursor: pointer; transition: background-color 0.2s; }
.lifeline:hover { background: #3a3a7a; }
.lifeline.used { background: #333; color: #777; cursor: not-allowed; text-decoration: line-through; }
.qa-container { flex-grow: 1; display: flex; flex-direction: column; justify-content: flex-end; gap: 15px; }
#question-container { width: 100%; min-height: 120px; background: linear-gradient(to bottom, #1e1e4a, #0d0d2e); border: 3px solid #ffc107; border-radius: 10px; display: flex; justify-content: center; align-items: center; padding: 20px; clip-path: polygon(5% 0, 95% 0, 100% 100%, 0% 100%); }
#question-text { font-size: 1.8rem; text-align: center; font-weight: bold; }
#options-container { display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 15px; }
.option { background: linear-gradient(to bottom, #1e1e4a, #0d0d2e); border: 2px solid #ffc107; border-radius: 8px; color: white; font-size: 1.5rem; font-weight: bold; cursor: pointer; display: flex; align-items: center; padding: 20px; min-height: 70px; transition: background 0.2s; text-align: left; clip-path: polygon(10% 0%, 100% 0%, 90% 100%, 0% 100%); }
.option:hover { background: linear-gradient(to bottom, #3a3a7a, #1e1e4a); }
.option span { color: #ffc107; margin-right: 15px; font-weight: bold; }
.option p { flex: 1; }
.option.selected { background: linear-gradient(to bottom, #ff9800, #f57c00); }
.option.correct { background: linear-gradient(to bottom, #4CAF50, #45a049); }
.option.wrong { background: linear-gradient(to bottom, #f44336, #d32f2f); }
.option.disabled { opacity: 0.3; background: #333; cursor: not-allowed; }
#prize-ladder { list-style: none; height: 100%; display: flex; flex-direction: column-reverse; justify-content: space-around; }
#prize-ladder li { font-size: 1.1rem; padding: 5px 10px; border-radius: 5px; transition: all 0.3s; text-align: right; color: #c0c0c0; }
#prize-ladder li.safe { font-weight: bold; color: white; }
#prize-ladder li.current { background: #ff9800; color: #0c0c2c; font-weight: bold; transform: scale(1.1); }

/* --- Modal (Umum) --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); display: none; justify-content: center; align-items: center; z-index: 1000; padding: 10px; }
.modal-content { background: #1e1e4a; border: 2px solid #4a4a8a; border-radius: 15px; padding: 30px; text-align: center; font-size: 1.5rem; }
.modal-content p { margin-bottom: 20px; }
.modal-content button { padding: 10px 30px; margin: 0 10px; border: none; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; }
#confirm-yes { background: #4CAF50; color: white; }
#confirm-no { background: #f44336; color: white; }
.modal-content-small { background: #1e1e4a; border: 2px solid #4a4a8a; border-radius: 15px; padding: 20px; width: 95%; max-width: 500px; color: white; text-align: center; }
.modal-content-small h3 { color: #ffc107; margin-bottom: 15px; }
.modal-content-small ol { text-align: left; margin-left: 20px; margin-bottom: 20px; line-height: 1.5; }
.modal-content-small button { background: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
#shareable-link-input { width: 100%; padding: 10px; margin: 10px 0; background: #eee; color: #333; border: none; border-radius: 5px; }
#copy-link-btn { background: #ff9800; }
#close-share-modal-btn, #close-modal-btn { background: #777; margin-left: 10px; }
#phone-contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
.phone-contact { background: rgba(0,0,0,0.2); border: 2px solid #4a4a8a; border-radius: 10px; padding: 15px; cursor: pointer; transition: background 0.2s; }
.phone-contact:hover { background: #3a3a7a; }
.phone-contact img { width: 80px; height: 80px; border-radius: 50%; border: 2px solid #ffc107; object-fit: cover; }
.phone-contact span { display: block; margin-top: 10px; font-weight: bold; }
#phone-response-area { margin-top: 20px; text-align: left; }
#phone-response-text { background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; min-height: 80px; font-style: italic; line-height: 1.5; }
#close-phone-modal-btn { margin-top: 20px; background: #f44336; }
.modal-content-large { background: #1e1e4a; border: 2px solid #4a4a8a; border-radius: 15px; padding: 20px; width: 95%; max-width: 700px; color: white; text-align: center; }
.modal-content-large h3 { color: #ffc107; margin-bottom: 5px; }
.modal-content-large p { margin-bottom: 15px; font-size: 0.9rem; }
.table-container { width: 100%; max-height: 400px; overflow-y: auto; background: rgba(0,0,0,0.2); border: 1px solid #4a4a8a; }
#score-table { width: 100%; border-collapse: collapse; }
#score-table th, #score-table td { padding: 10px; border: 1px solid #4a4a8a; text-align: left; }
#score-table th { background: #ffc107; color: #0c0c2c; position: sticky; top: 0; }
#score-table tbody tr:nth-child(even) { background: rgba(255,255,255,0.05); }
.modal-footer { margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px; }
#close-score-view-btn, #export-excel-btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 1rem; color: white; }
#export-excel-btn { background: #217346; }
#export-excel-btn:hover { background: #185; }
#close-score-view-btn { background: #f44336; }
#close-score-view-btn:hover { background: #d32f2f; }


/*
***************************************************
** **
** ATURAN RESPONSIVE (MOBILE)            **
** (Semua perubahan untuk HP di sini)    **
** **
***************************************************
*/
@media (max-width: 800px) {

    /* --- Layar Awal (Mobile) --- */
    .start-box { padding: 15px; }
    #start-screen h1, #start-screen h2, #start-screen h3 { font-size: 1.5rem; }
    #player-name-input, #fase-select { padding: 12px; font-size: 1rem; }
    #start-game-btn { padding: 12px; font-size: 1.1rem; }
    .logo-spinning { width: 100px; height: 100px; }

    /* --- Layar Game (Mobile) --- */
    .game-container {
        flex-direction: column; /* Tumpuk vertikal */
        padding: 10px;
        gap: 10px;
    }

    /* Pindahkan sidebar hadiah ke atas & buat horizontal scroll */
    .prize-ladder-container {
        width: 100%; /* Lebar penuh */
        max-height: 120px; /* Batasi tinggi */
        padding: 10px;
        order: -1; /* Pindahkan ke paling atas */
        overflow-y: hidden;
        overflow-x: auto; /* Aktifkan horizontal scroll */
    }
    #prize-ladder {
        flex-direction: row; /* Buat list jadi horizontal */
        justify-content: flex-start;
        align-items: center;
        height: auto;
        gap: 10px;
        padding-bottom: 10px; /* Beri ruang untuk scrollbar */
    }
    #prize-ladder li {
        flex-shrink: 0; /* Cegah item menyusut */
        font-size: 0.9rem;
        writing-mode: vertical-rl; /* Tulis teks vertikal */
        text-orientation: mixed;
        transform: rotate(180deg); /* Balikkan teks vertikal */
        padding: 8px 5px;
        text-align: center;
    }
    #prize-ladder li.current {
        transform: rotate(180deg) scale(1.1); /* Jaga scale */
    }

    /* Sesuaikan area kuis */
    .quiz-main {
        padding-right: 0;
        height: 100%; /* Ambil sisa ruang */
    }
    .top-bar { margin-bottom: 10px; }
    #timer {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }
    .lifeline {
        width: 45px;
        height: 45px;
        font-size: 1.2rem;
    }
    .qa-container { gap: 10px; } /* Kurangi jarak */
    
    /* Tumpuk Opsi Jawaban */
    #options-container {
        grid-template-columns: 1fr; /* 1 kolom, tumpuk vertikal */
        gap: 8px; /* Kurangi jarak */
    }
    #question-container {
        min-height: 100px;
        padding: 15px;
    }
    #question-text {
        font-size: 1.3rem; /* Kecilkan font pertanyaan */
    }
    .option {
        font-size: 1.1rem; /* Kecilkan font opsi */
        min-height: 60px;
        padding: 10px 15px;
        /* Sederhanakan clip-path untuk mobile */
        clip-path: polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%);
    }

    /* --- Modal (Mobile) --- */
    .modal-content-large, .modal-content-small {
        width: 95vw; /* Paksa modal agar pas di layar */
    }
    .modal-content-large {
        padding: 10px;
    }
    .table-container {
        max-height: 300px; /* Kurangi tinggi tabel */
    }
    #score-table th, #score-table td {
        padding: 8px;
        font-size: 0.9rem; /* Kecilkan font tabel */
    }
    
    /* Tombol export/tutup di modal skor */
    .modal-footer {
        flex-direction: column-reverse; /* Tumpuk tombol */
        gap: 10px;
    }
    #close-score-view-btn, #export-excel-btn {
        width: 100%; /* Buat tombol lebar penuh */
        font-size: 1rem;
    }

    /* Modal bantuan telepon */
    #phone-contact-grid {
        gap: 10px;
    }
    .phone-contact img {
        width: 60px;
        height: 60px;
    }
    .phone-contact span {
        font-size: 0.9rem;
    }
}
